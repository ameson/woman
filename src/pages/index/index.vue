<template>
  <view class="container">
    <view class="header">
      <view class="brand">
        <text class="brand-text">çˆ±æƒ…Lab</text>
        <text class="brand-slogan">é‡è§ç§‘å­¦çš„æµªæ¼« ğŸ’•</text>
      </view>
      <text class="title">ç›¸äº²é­…åŠ›æŒ‡æ•°--é‡è§æ›´å¥½çš„è‡ªå·±</text>
      <text class="subtitle">ä¸€èµ·æ¢ç´¢ä½ çš„é­…åŠ›æ½œåŠ›å€¼ âœ¨</text>
      <text class="subtitle">è‡ªç ”AIç®—æ³•ï¼Œç§‘å­¦è®¡ç®—ä½ çš„é¢œå€¼æŒ‡æ•°âœ¨</text>
      <view class="decoration">
        <view class="circle circle-1"></view>
        <view class="circle circle-2"></view>
        <view class="circle circle-3"></view>
      </view>
    </view>
    
    <view class="gender-cards">
      <view class="gender-card woman" hover-class="card-hover" @click="selectGender('female')">
        <view class="card-content">
          <image class="gender-icon" src="../../static/images/woman.svg" mode="aspectFit"></image>
          <text class="gender-title">é­…åŠ›å¥³ç”Ÿ</text>
          <text class="gender-desc">å‘ç°å±äºä½ çš„ç‹¬ç‰¹å…‰èŠ’âœ¨</text>
          <view class="features">
            <view class="feature-item">
              <text class="feature-dot">ğŸ’«</text>
              <text class="feature-text">æ™ºèƒ½åŸå¸‚åŒ¹é…</text>
            </view>
            <view class="feature-item">
              <text class="feature-dot">ğŸŒŸ</text>
              <text class="feature-text">å…¨æ–¹ä½é­…åŠ›è§£æ</text>
            </view>
            <view class="feature-item">
              <text class="feature-dot">ğŸ’</text>
              <text class="feature-text">è´´å¿ƒå»ºè®®</text>
            </view>
          </view>
        </view>
        <view class="card-decoration"></view>
      </view>
      
      <view class="gender-card man" hover-class="card-hover" @click="selectGender('male')">
        <view class="card-content">
          <image class="gender-icon" src="../../static/images/man.svg" mode="aspectFit"></image>
          <text class="gender-title">å“è´¨ç”·ç”Ÿ</text>
          <text class="gender-desc">å‘ç°ä½ çš„ç‹¬ç‰¹é­…åŠ›ä»·å€¼</text>
          <view class="features">
            <view class="feature-item">
              <text class="feature-dot">â­</text>
              <text class="feature-text">å…¨æ–¹ä½åˆ†æ</text>
            </view>
            <view class="feature-item">
              <text class="feature-dot">ğŸ¯</text>
              <text class="feature-text">ç²¾å‡†å®šä½</text>
            </view>
            <view class="feature-item">
              <text class="feature-dot">ğŸ“ˆ</text>
              <text class="feature-text">ä¸ªæ€§åŒ–æå‡æ–¹æ¡ˆ</text>
            </view>
          </view>
        </view>
        <text class="coming-soon">å³å°†é—ªäº®ç™»åœº</text>
        <view class="card-decoration"></view>
      </view>
    </view>

    <view class="ad-container">
      <ad-custom 
        unit-id="adunit-xxxxxxxxxxxxxxxx" 
        ad-type="banner" 
        ad-theme="white">
      </ad-custom>
    </view>

    <view class="relationship-test-link" @click="openRelationshipTest">
      <text class="relationship-test-text">ğŸ’• æ„Ÿæƒ…å…³ç³»æµ‹è¯•</text>
      <text class="relationship-test-icon">â†’</text>
    </view>

    <view class="tips">
      <view class="tip-header">
        <text class="tip-title">å°è´´å£«</text>
        <view class="tip-line"></view>
      </view>
      <view class="tip-content">
        <text class="tip-item">ğŸ’« è½»æ¾æµ‹è¯„ï¼Œåªéœ€3-5åˆ†é’Ÿ</text>
        <text class="tip-item">ğŸ’ çœŸå®çš„ä½ ï¼Œæ‰æ˜¯æœ€ç¾çš„</text>
        <text class="tip-item">ğŸ”’ éšç§å®‰å…¨ï¼Œè´´å¿ƒä¿æŠ¤</text>
      </view>
    </view>

    <view class="footer">
      <text class="footer-text">é‡è§å¿ƒåŠ¨ï¼Œé‡è§ç¾å¥½çš„ä½  ğŸ’–</text>
    </view>
    <view class="follow-us">
            <view class="follow-content">
              <text class="follow-title">å…³æ³¨æˆ‘ä»¬</text>
              <image class="qr-code" src="@/static/qr.jpg" mode="aspectFit"></image>
              <text class="follow-desc">æ‰«ç å…³æ³¨è·å–æ›´å¤šèµ„è®¯</text>
            </view>
          </view>
    <view></view>
  </view>
</template>

<script>
export default {
  data() {
    return {}
  },
  mounted() {
    this.initBaiduAnalytics();
  },
  methods: {
    initBaiduAnalytics() {
      // ç¡®ä¿åœ¨å®¢æˆ·ç«¯ç¯å¢ƒä¸­è¿è¡Œ
      if (typeof window !== 'undefined') {
        window._hmt = window._hmt || [];
        const hm = document.createElement('script');
        hm.src = 'https://hm.baidu.com/hm.js?a2e1dda791e37f17ddffc039aca159ec';
        const s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);

        // æ·»åŠ è·¯ç”±å˜åŒ–æ—¶çš„é¡µé¢æµè§ˆç»Ÿè®¡
        this.$router.afterEach((to) => {
          if (window._hmt) {
            window._hmt.push(['_trackPageview', to.fullPath]);
          }
        });
      }
    },
    selectGender(gender) {
      if (gender === 'female') {
        // å¥³ç”Ÿç‰ˆæœ¬ä¿æŒä¸å˜
        uni.navigateTo({
          url: '/pages/woman/assessment'
        })
      } else if (gender === 'male') {
        // è·¨å¹³å°å…¼å®¹çš„è·³è½¬æ–¹æ¡ˆ
        try {
          // H5 ç¯å¢ƒç›´æ¥è·³è½¬
          window.location.href = 'https://man.qioo.fun'
        } catch (error) {
          console.error('è·³è½¬å¼‚å¸¸:', error)
          uni.showToast({
            title: 'è·³è½¬å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•',
            icon: 'none'
          })
        }
      }
    },
    openRelationshipTest() {
      // å¹³å°å…¼å®¹çš„è·³è½¬æ–¹æ³•
      // #ifdef H5
      window.open('https://cuckold.qioo.fun/', '_blank');
      // #endif

      // #ifndef H5
      uni.navigateTo({
        url: '/pages/webview/webview?url=' + encodeURIComponent('https://cuckold.qioo.fun/')
      });
      // #endif
    }
  }
}
</script>

<style lang="scss">
.container {
  padding: 40rpx;
  min-height: 100vh;
  background: linear-gradient(180deg, #fff0f6 0%, #ffffff 100%);
  position: relative;
}

.header {
  text-align: center;
  margin-bottom: 60rpx;
  animation: fadeIn 0.8s ease-in-out;
}

.brand {
  margin-bottom: 40rpx;
  animation: floatIn 1s ease-out;
}

.brand-text {
  font-size: 56rpx;
  font-weight: bold;
  background: linear-gradient(45deg, #ff4d8f, #ff85a2);
  -webkit-background-clip: text;
  color: transparent;
  display: block;
  margin-bottom: 8rpx;
  letter-spacing: 2rpx;
}

.brand-slogan {
  font-size: 24rpx;
  color: #ff85a2;
  opacity: 0.8;
  display: block;
}

.title {
  font-size: 48rpx;
  color: #ff4d8f;
  font-weight: bold;
  margin-bottom: 16rpx;
  display: block;
}

.subtitle {
  font-size: 28rpx;
  color: #666;
  display: block;
}

.gender-cards {
  display: flex;
  flex-direction: column;
  gap: 30rpx;
  margin-bottom: 40rpx;
}

.gender-card {
  background: rgba(255, 255, 255, 0.9);
  border-radius: 24rpx;
  padding: 40rpx;
  position: relative;
  box-shadow: 0 8rpx 32rpx rgba(255, 77, 143, 0.1);
  transition: all 0.3s ease;
}

.card-hover {
  transform: translateY(-6rpx);
  box-shadow: 0 12rpx 48rpx rgba(255, 77, 143, 0.15);
}

.woman {
  border: 2rpx solid #ff9ec3;
  background: linear-gradient(135deg, #fff9fb 0%, #fff 100%);
}

.man {
  border: 2rpx solid #a8d8ff;
  background: linear-gradient(135deg, #f5faff 0%, #fff 100%);
  opacity: 0.8;
}

.gender-icon {
  width: 120rpx;
  height: 120rpx;
  margin-bottom: 20rpx;
}

.gender-title {
  font-size: 36rpx;
  font-weight: bold;
  color: #333;
  margin-bottom: 12rpx;
}

.gender-desc {
  font-size: 26rpx;
  color: #666;
  margin-bottom: 30rpx;
}

.features {
  display: flex;
  flex-direction: column;
  gap: 16rpx;
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 12rpx;
}

.feature-text {
  font-size: 26rpx;
  color: #666;
}

.coming-soon {
  position: absolute;
  top: 20rpx;
  right: 20rpx;
  background: #ff4d8f;
  color: white;
  padding: 8rpx 20rpx;
  border-radius: 30rpx;
  font-size: 24rpx;
}

.relationship-test-link {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20rpx;
  border-radius: 20rpx;
  background: #fff;
  box-shadow: 0 8rpx 32rpx rgba(255, 77, 143, 0.1);
  margin-bottom: 40rpx;
}

.relationship-test-text {
  font-size: 30rpx;
  color: #ff4d8f;
  margin-right: 12rpx;
}

.relationship-test-icon {
  font-size: 24rpx;
  color: #ff4d8f;
}

.tips {
  background: rgba(255, 255, 255, 0.8);
  border-radius: 20rpx;
  padding: 30rpx;
  margin-top: 40rpx;
}

.tip-header {
  display: flex;
  align-items: center;
  margin-bottom: 20rpx;
}

.tip-title {
  font-size: 30rpx;
  color: #ff4d8f;
  font-weight: bold;
}

.tip-content {
  display: flex;
  flex-direction: column;
  gap: 16rpx;
}

.tip-item {
  font-size: 26rpx;
  color: #666;
}

.footer-text {
  font-size: 28rpx;
  color: #999;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20rpx);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes floatIn {
  from {
    opacity: 0;
    transform: translateY(-30rpx);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}


.follow-us {
    margin-top: 30rpx;
    padding: 20rpx;
    background-color: #fff;
    border-radius: 12rpx;
    
    .follow-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      
      .follow-title {
        font-size: 32rpx;
        font-weight: 600;
        color: #333;
        margin-bottom: 20rpx;
      }

      .qr-code {
        width: 240rpx;
        height: 240rpx;
        margin: 10rpx 0;
      }

      .follow-desc {
        font-size: 24rpx;
        color: #666;
        margin-top: 10rpx;
      }
    }
  }
</style>
